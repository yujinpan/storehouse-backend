(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{cDJL:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),a=function(){return function(){}}(),r=l("xYTU"),s=l("pMnS"),u=l("OsgO"),i=l("ITkS"),o=l("bujt"),b=l("UodH"),c=l("dWZg"),p=l("lLAP"),g=l("wFw1"),d=l("Ip0R"),m=l("xMyE"),f=l("jYEY"),h=l.n(f),v=l("Vurf"),C=["hotpink","#e23237","yellowgreen","seagreen","slategray","slateblue","blueviolet"],A=l("t/Na"),y=function(){function n(n,t){this.http=n,this.authService=t}return n.prototype.register=function(n){var t=this,l=Object.assign({},n,{password:h()(n.password)});return this.http.post("api/register",l).pipe(Object(m.a)(function(n){n.state&&t.authService.loginHandler(n.data)}))},n.prototype.getAvatarList=function(){return C},n.ngInjectableDef=e.U({factory:function(){return new n(e.Y(A.c),e.Y(v.a))},token:n,providedIn:"root"}),n}(),w=function(){function n(n){this.registerService=n,this.avatarList=this.registerService.getAvatarList(),this.avatarChanged=new e.m}return n.prototype.ngOnInit=function(){this.avatarChange(this.avatarList[Math.round(Math.random()*(this.avatarList.length-1))])},n.prototype.avatarChange=function(n){this.avatar=n,this.avatarChanged.emit(n)},n}(),k=e.qb({encapsulation:0,styles:[[".avatar-list[_ngcontent-%COMP%]{margin-top:12px}.avatar-item[_ngcontent-%COMP%]{margin-right:12px;opacity:.3;transition:all .3s;-webkit-transition:.3s;color:transparent;font-size:20px;-webkit-animation:1.5s ease-out staticAndFadeOut;animation:1.5s ease-out staticAndFadeOut}.avatar-item.selected[_ngcontent-%COMP%]{opacity:1;color:#fff}@-webkit-keyframes staticAndFadeOut{0%,70%{opacity:1}}@keyframes staticAndFadeOut{0%,70%{opacity:1}}"]],data:{}});function x(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"button",[["aria-label","avatar"],["class","avatar-item"],["mat-mini-fab",""],["type","button"]],[[4,"background-color",null],[2,"selected",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.avatarChange(n.context.$implicit)&&e),e},o.d,o.b)),e.rb(1,180224,null,0,b.b,[e.k,c.a,p.b,[2,g.a]],null,null),(n()(),e.Jb(2,0,[" "," "]))],null,function(n,t){var l=t.component;n(t,0,0,t.context.$implicit,t.context.$implicit===l.avatar,e.Cb(t,1).disabled||null,"NoopAnimations"===e.Cb(t,1)._animationMode),n(t,2,0,l.name)})}function O(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,5,"section",[["class","avatar-selector"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"h4",[["class","avatar-label sub-text"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Choose your image"])),(n()(),e.sb(3,0,null,null,2,"div",[["class","avatar-list"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,x)),e.rb(5,278528,null,0,d.j,[e.Q,e.N,e.t],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,5,0,t.component.avatarList)},null)}var j=l("gIcY"),L=l("Bb0U"),S=l("vOAj"),F=l("jxxy"),P=l("uxkb"),I=l("sO4T"),M=l("Yxxx"),N=l("DxKO"),R=function(){function n(n,t,l){this.fb=n,this.router=t,this.registerService=l,this.registerForm=this.fb.group({username:["",[j.p.required,Object(N.a)(/^[\da-z]*$/i),j.p.maxLength(12)]],password:["",[j.p.required,j.p.maxLength(16)]],passwordCheck:["",[j.p.required,j.p.maxLength(16),Y]]})}return n.prototype.ngOnInit=function(){var n=this;this.password.valueChanges.subscribe(function(){n.passwordCheck.setErrors(n.passwordCheck.validator(n.passwordCheck))})},Object.defineProperty(n.prototype,"username",{get:function(){return this.registerForm.get("username")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"password",{get:function(){return this.registerForm.get("password")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"passwordCheck",{get:function(){return this.registerForm.get("passwordCheck")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"usernameInitials",{get:function(){return this.username.value.slice(0,1).toUpperCase()},enumerable:!0,configurable:!0}),n.prototype.submit=function(){this.registerForm.valid&&this.registerService.register({avatar:this.avatar,username:this.username.value,password:this.password.value}).subscribe()},n.prototype.toLogin=function(){this.router.navigate(["login"])},n.prototype.onAvatarChanged=function(n){this.avatar=n},n}();function Y(n){console.log(n.errors);var t=n.parent;return t&&t.get("password").value!==t.get("passwordCheck").value?{passwordCheck:!0}:null}var q=l("ZYCi"),E=e.qb({encapsulation:0,styles:[["app-avatar-selector[_ngcontent-%COMP%]{display:block;margin-top:36px}.form[_ngcontent-%COMP%]{width:260px;margin-top:12px}"]],data:{animation:[{type:7,name:"fadeSlideAnimation",definitions:[{type:1,expr:":enter",animation:[{type:11,selector:"mat-form-field, .submit, .logo, .avatar-selector",animation:[{type:6,styles:{opacity:0,transform:"translateX(100px)"},offset:null},{type:12,timings:100,animation:[{type:4,styles:{type:6,styles:{opacity:1,transform:"translateX(0)"},offset:null},timings:"400ms cubic-bezier(0.35, 0, 0.25, 1)"}]}],options:null}],options:null}],options:{}}]}});function _(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,18,"div",[["class","full-height flex-center"]],[[24,"@fadeSlideAnimation",0]],null,null,null,null)),(n()(),e.sb(1,0,null,null,17,"section",[["class","register"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,1,"app-prompt-logo",[["message","REGISTER"]],null,null,null,u.b,u.a)),e.rb(3,49152,null,0,i.a,[],{message:[0,"message"]},null),(n()(),e.sb(4,0,null,null,1,"app-avatar-selector",[],null,[[null,"avatarChanged"]],function(n,t,l){var e=!0;return"avatarChanged"===t&&(e=!1!==n.component.onAvatarChanged(l)&&e),e},O,k)),e.rb(5,114688,null,0,w,[y],{name:[0,"name"]},{avatarChanged:"avatarChanged"}),(n()(),e.sb(6,0,null,null,12,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,l){var a=!0;return"submit"===t&&(a=!1!==e.Cb(n,8).onSubmit(l)&&a),"reset"===t&&(a=!1!==e.Cb(n,8).onReset()&&a),a},null,null)),e.rb(7,16384,null,0,j.r,[],null,null),e.rb(8,540672,null,0,j.f,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,j.b,null,[j.f]),e.rb(10,16384,null,0,j.l,[[4,j.b]],null,null),(n()(),e.sb(11,0,null,null,1,"app-form-username",[],null,null,null,L.b,L.a)),e.rb(12,49152,null,0,S.a,[],{username:[0,"username"]},null),(n()(),e.sb(13,0,null,null,1,"app-form-password",[],null,null,null,F.b,F.a)),e.rb(14,49152,null,0,P.a,[],{password:[0,"password"]},null),(n()(),e.sb(15,0,null,null,1,"app-form-password",[["placeholder","Confirm password"]],null,null,null,F.b,F.a)),e.rb(16,49152,null,0,P.a,[],{password:[0,"password"],placeholder:[1,"placeholder"]},null),(n()(),e.sb(17,0,null,null,1,"app-button-group",[["mainName","Register"],["subName","Sign In"]],null,[[null,"mainClick"],[null,"subClick"]],function(n,t,l){var e=!0,a=n.component;return"mainClick"===t&&(e=!1!==a.submit()&&e),"subClick"===t&&(e=!1!==a.toLogin()&&e),e},I.b,I.a)),e.rb(18,49152,null,0,M.a,[],{mainName:[0,"mainName"],subName:[1,"subName"]},{mainClick:"mainClick",subClick:"subClick"})],function(n,t){var l=t.component;n(t,3,0,"REGISTER"),n(t,5,0,l.usernameInitials),n(t,8,0,l.registerForm),n(t,12,0,l.username),n(t,14,0,l.password),n(t,16,0,l.passwordCheck,"Confirm password"),n(t,18,0,"Register","Sign In")},function(n,t){n(t,0,0,void 0),n(t,6,0,e.Cb(t,10).ngClassUntouched,e.Cb(t,10).ngClassTouched,e.Cb(t,10).ngClassPristine,e.Cb(t,10).ngClassDirty,e.Cb(t,10).ngClassValid,e.Cb(t,10).ngClassInvalid,e.Cb(t,10).ngClassPending)})}function z(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,1,"app-register",[],null,null,null,_,E)),e.rb(1,114688,null,0,R,[j.d,q.k,y],null,null)],function(n,t){n(t,1,0)},null)}var T=e.ob("app-register",R,z,{},{},[]),U=l("M2Lx"),D=l("Wf4p"),J=l("eDkP"),G=l("Fzqc"),V=l("mVsa"),Z=l("ZYjt"),$=l("SMsm"),X=l("seP3"),H=l("/VYK"),K=l("b716"),W=l("Z+uX"),B=l("4c35"),Q=l("qAlS"),nn=l("vARd"),tn=l("hctd"),ln=l("PCNd"),en=function(){return function(){}}();l.d(t,"RegisterModuleNgFactory",function(){return an});var an=e.pb(a,[],function(n){return e.zb([e.Ab(512,e.j,e.db,[[8,[r.a,r.b,s.a,T]],[3,e.j],e.y]),e.Ab(4608,d.m,d.l,[e.v,[2,d.z]]),e.Ab(4608,j.s,j.s,[]),e.Ab(4608,j.d,j.d,[]),e.Ab(4608,U.c,U.c,[]),e.Ab(4608,D.a,D.a,[]),e.Ab(4608,J.a,J.a,[J.g,J.c,e.j,J.f,J.d,e.r,e.A,d.c,G.b,[2,d.g]]),e.Ab(5120,J.h,J.i,[J.a]),e.Ab(5120,V.b,V.g,[J.a]),e.Ab(1073742336,d.b,d.b,[]),e.Ab(1073742336,j.q,j.q,[]),e.Ab(1073742336,j.g,j.g,[]),e.Ab(1073742336,j.n,j.n,[]),e.Ab(1073742336,G.a,G.a,[]),e.Ab(1073742336,D.e,D.e,[[2,D.b],[2,Z.g]]),e.Ab(1073742336,c.b,c.b,[]),e.Ab(1073742336,D.g,D.g,[]),e.Ab(1073742336,b.c,b.c,[]),e.Ab(1073742336,$.c,$.c,[]),e.Ab(1073742336,U.d,U.d,[]),e.Ab(1073742336,X.e,X.e,[]),e.Ab(1073742336,H.c,H.c,[]),e.Ab(1073742336,K.b,K.b,[]),e.Ab(1073742336,W.c,W.c,[]),e.Ab(1073742336,B.f,B.f,[]),e.Ab(1073742336,Q.b,Q.b,[]),e.Ab(1073742336,J.e,J.e,[]),e.Ab(1073742336,nn.f,nn.f,[]),e.Ab(1073742336,V.e,V.e,[]),e.Ab(1073742336,tn.a,tn.a,[]),e.Ab(1073742336,ln.a,ln.a,[]),e.Ab(1073742336,q.m,q.m,[[2,q.s],[2,q.k]]),e.Ab(1073742336,en,en,[]),e.Ab(1073742336,a,a,[]),e.Ab(256,nn.b,tn.b,[]),e.Ab(1024,q.i,function(){return[[{path:"",component:R}]]},[])])})}}]);